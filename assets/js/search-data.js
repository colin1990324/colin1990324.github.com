var store = [{
        "title": "惜春思夏",
        "excerpt":" ２４号回来了,一下飞机就迎面一股干燥的热风,着陆前提示：武汉地面温度１８度; 惜春 想来今年成都的冬天也还算冷了,海棠都开烂了,兰花也开始抽出花苞,稀稀拉拉的雨,是否我已经错过了成都的冬而追上了春的开头?第一天就注意到田野里的油菜花,只是星星的一点,透出对春的期待,春已然开始却又送我回武汉了. 说武汉是只有冬夏两季的,一阵寒风过后便从夏转入冬.雪散在依旧青葱的树木上,也褪不去夏的遗迹. 地面温度１８度—-于是衣着厚重的我捂着热汗登上机场大巴. 一回寝室就脱掉了毛衣.得珍惜这暖意,兴许我正面对的,就是春的全部. 晚上是炸雷,是阵雨;翌日醒来,是雾气是潮湿,墙壁都可以吸出水来. 思夏 拂开阴霾的天,露出灿烂的日,我要燃烧的太阳,烧灼烘烤阴冷的心情,蒸干汗水,照亮失落的背影. 期待球场上流淌的汗水,沿着脸颊流下,顺着鼻尖掉落 期待冷水浴,唱着军歌,振奋激情. 期待骄阳烘烤后衣服上那种晚香玉的暗香. 期待夏日校园里清爽的一抹抹亮色. 不谈感情.日子,基本上平静如水.对过去的,总有那么点愤恨,不满足;现在的,有更多的迷惘,逃避;将来的,是期待,是恐慌.我,普通的一个大学生而已. 这些个日子,大家总写过去的,我这篇献给将来. ","categories": ["blog"],
        "tags": ["mood"],
        "url": "http://wurui.cc/blog/treasured-spring-wait-in-hope-of-summer/"
      },{
        "title": "Qinghai Lake",
        "excerpt":"It’s a 3000 miles trip with my family during 2011 summer.   ","categories": ["life"],
        "tags": ["tour"],
        "url": "http://wurui.cc/life/qinghai-lake/"
      },{
        "title": "Wuhan 2011",
        "excerpt":"终于拥有了自己的第一台单反相机。用生活费中攒下来的钱购入了落后一代的Canon 500D套装，后来还入了价廉物美的小痰盂。 开启寻找美，寻找光影，寻找生活的一条新途径。       ","categories": ["life"],
        "tags": ["school"],
        "url": "http://wurui.cc/life/wuhan-2011/"
      },{
        "title": "寝室吃酸柚子记",
        "excerpt":"新年伊始，关山口技院，意淫十六分舵，四二五档口，李兄买了一酸柚子，生涩，不能入口，遂弃之桌侧。日暮，各兄弟归来，漫夜长长，无以聊赖，思卑鄙龌龊，蝇营狗苟之事。余曰，何不玩牌，失者食酸柚？众兄皆曰好。遂订下规矩，二十一点，轮胜一，终败者须食一柚。少倾，开战，激战三百回合，互有胜负，食柚者表情乖戾，似笑非笑，似哭非哭，无以言表，只以战意激扬，恨柚之瘦小。杜工部有诗云，“莫自使眼枯，收汝泪纵横。眼枯即见骨，天地终无情！存者无消息，死者为尘泥。贱子因阵败，归来寻旧蹊。久行见空巷，日瘦气惨凄。”可见战况之惨烈。须臾，战罢，众兄各食柚少许，欢愉而罢。  ","categories": ["blog"],
        "tags": ["school"],
        "url": "http://wurui.cc/blog/eat-sour-grapefruit/"
      },{
        "title": "Mount Siguniang Through Hike",
        "excerpt":"It was a 3 days hiking. The plan was to start from the Valley Changping, Xiaojin, climb through the pass, 15600 feet, then get out from the Valley Bipeng, Li Xian. First day we walked around 23km, only 3km away from the end of the Valley Changping. We got 2 camps shared by...","categories": ["life"],
        "tags": ["hiking"],
        "url": "http://wurui.cc/life/mount-siguniang-through-hike/"
      },{
        "title": "Havasupai",
        "excerpt":"I had a fantastic spring break there with three of mine friends! Havasupai means people of the blue-green waters. The spectacular waterfalls and isolated community within the Havasupai Indian Reservation attract thousands of visitors each year. The Havasupai are intimately connected to the water and the land. This blue-green water is...","categories": ["life"],
        "tags": ["hiking"],
        "url": "http://wurui.cc/life/havasupai/"
      },{
        "title": "StarCraft II TVZ 4M Polt",
        "excerpt":"I’ve played Starcraft since primary school. So when Starcraft II came out, I bought the game immediately. Here’s a article from Teamliquit analysing terrain player, WCS North American Champion, Polt’s TVZ strategy. And I translated it into Chinese, originally posted on NeoTV BBS. 介绍TvZ的战局是在不断变化的。对局中双方的策略会在重发展和重进攻之前切换。玩家需要给偷经济的对手以足够的压力，同时又有能防住对方的一波的 准备，还要在攻防之间寻求平衡。不管你是双开还是三开，你都要有足够的侦查，并作出快速有效的应对。 Polt就是这样一名不做无侦查的决策，从而能在刀尖上跳舞的选手。我们将深入剖析Polt是如何做到的，并从中学习。 本教程会提到Polt的多场比赛，包括建造顺序和一些TvZ的变化。我们将详细讨论第一场比赛，以此作为基线。接下来的三场比赛将演示针对不同对手（的不同反应）所作出的一些变化。 Polt如何赢得比赛如果你看过Polt的大量比赛，你很快就会发现，Polt其实一直被一些弱项困扰着。他的多线不如顶尖韩T，大局观时常不如队友的T，微操火车时超高余钱的例子数都数不清。有时还会因为没注意损失一小坨部队。 不过这些都可以接受。Polt并不是靠这些小细节来赢得比赛的。他靠的是大师级的控图，战术决策以及漂亮的走位。你很难在SC2中找到以上方面做得更好的选手。他对比赛中各方面的理解是令人敬佩而恐惧的。这些都值得我们细细品味，下面我们来看看Polt独特的TzV风格。 Polt的TvZPolt靠决策赢得比赛。TvZ时，他很喜欢4M mid打法，开局具有很强的适应性，能够同时应对偷经济或者Rush型的开局。他已经使用这种开局一个多月了，而没有遇到很有针对性的解法。...","categories": ["blog"],
        "tags": ["translation"],
        "url": "http://wurui.cc/blog/starcraft-ii-tvz-4m-polt/"
      },{
        "title": "Hermann",
        "excerpt":"When we visited this small town, the local people happened to hold their annual civil war event which was great fun.        ","categories": ["life"],
        "tags": ["tour"],
        "url": "http://wurui.cc/life/hermann/"
      },{
        "title": "Cicada Slough and Rosin",
        "excerpt":"哥村拾遗：蝉蜕和松香  校园拾趣，美和自然就在细微处，等你去发现~ ","categories": ["life"],
        "tags": ["school"],
        "url": "http://wurui.cc/life/cicada-slough-and-rosin/"
      },{
        "title": "Go Tigers",
        "excerpt":"This is the first time I’m at the scene of a football game. People are passionate and roaring, “M-I-Z!!! Z-O-U!!!”.  And weather is quite cold anyway. :D        ","categories": ["life"],
        "tags": ["school"],
        "url": "http://wurui.cc/life/go-tigers/"
      },{
        "title": "Climbing at Red River George",
        "excerpt":"Happy journey with these guys~ PS: These rocks are so sharp and freezing, hand warmers are my best friends~         ","categories": ["life"],
        "tags": ["climbing"],
        "url": "http://wurui.cc/life/climbing-at-red-river-george/"
      },{
        "title": "Alex Honnold - El Sendero Luminoso",
        "excerpt":"Alex, in my mind, is the best climber on active duty in the world! Every time I watch his video, I could feel his strong mind of pursuing bigger bigger challenge! On January 15, 2014, Alex Honnold free-soloed El Sendero Luminoso (The Shining Path) in El Portrero Chico, Mexico in a...","categories": ["life"],
        "tags": ["climbing"],
        "url": "http://wurui.cc/life/alex-honnold-el-sendero-luminoso/"
      },{
        "title": "Opening Orchid",
        "excerpt":"Here’s the opening orchid in my parents’ house. Have a nice day!  ","categories": ["life"],
        "tags": ["home"],
        "url": "http://wurui.cc/life/opening-orchid/"
      },{
        "title": "The Romance of a Man",
        "excerpt":"The first Gundam I had was Strike Freedom 1/100 I bought at Narita International Airport. Long after I saw my friends had their awesome action figures. So I guess I do this to make up something( which really costs a lot) missing from my childhood. :D       ","categories": ["life"],
        "tags": ["toy"],
        "url": "http://wurui.cc/life/the-romance-of-a-man/"
      },{
        "title": "Sanya",
        "excerpt":"Beautiful Sanya and my beautiful girl~  大概玩了蜈支洲岛，潜水，呀偌达热带雨林，海鲜市场，亚龙湾，飞鱼~~ ","categories": ["life"],
        "tags": ["tour"],
        "url": "http://wurui.cc/life/sanya/"
      },{
        "title": "An Invisible Sign",
        "excerpt":" 影片中的斧子很关键，据说小说原作的第一句话，就是“我二十岁去店里买了一把斧子”——我其实未读过小说、或许理解有所偏差——光从影片看，很多问题都直接牵涉到开头父亲的童话，王国人口爆炸，国王要处死面包师傅家人，父亲提出砍去每位家人的肢体以替代死刑。于是，小女孩失去了她的脚。不过，童话以家人美满团圆而告终 斧子——正是那个布偶“心魔”（行刑者）砍断所有人肢体的道具。童话中和现实中的父亲把“牺牲”——被迫的付出，作为家庭圆满、幸福、甚至是有钱（童话情节）的先决条件。显然，父亲也强迫家人和他一起如此“牺牲”。小女孩除了根据这个观念，自己理解演绎出一套怪癖之外，还将斧子视为“牺牲”的象征，她也需要这件象征物时时提醒自己。 女孩成人之后，这个“执念”毕竟显得怪异，所以她时时在伪装，“撒谎”。买了斧子后，她特地将斧子装裱粉饰为“7”，挂在教室里，恐怕也是这个原因吧。这个教室是她最初爱上数字的地方，“斧子7”其实是对她自己的教具。之后，阴差阳错，伤了自己的腿，恐怕是幼年童话的投射吧。不过，女孩走出“牺牲观”的怪圈，亦是由此而起。 我觉得，这种“牺牲”观在美国，自然有宗教的背景，可我们对此可一点儿也不陌生！从小到大，受的都是“牺牲观”教育。被迫的付出，是成就从个人到国家种种目的的先决条件。影片之所以在最后触动我，不是圆满的结局，而是提出了这样一个答案：靠伤害自己、被迫付出的“牺牲”都是某种妄想症（从国家层面来扮演父亲角色，以“牺牲观”来推广教育民众，就更是别有用心了），追求幸福圆满的唯一道路，是积极去追求自己真正渴望的东西，去创造，实现部分（个体价值）的总和大于整体，而非相反！ 转自：从斧头开始的牺牲观妄想症 ","categories": ["blog"],
        "tags": ["film"],
        "url": "http://wurui.cc/blog/an-invisible-sign/"
      },{
        "title": "Promising Young Climbers",
        "excerpt":"This girl is so cute and pretty, and she is one of the two 11-year old record keepers in the world. I like how she talks and smiles.  ","categories": ["life"],
        "tags": ["climbing"],
        "url": "http://wurui.cc/life/promising-young-climbers/"
      },{
        "title": "《码农故事》",
        "excerpt":"创业公司核心代码被盗，作案者到底是黑客还是内奸？社交网站遭遇DDoS攻击，究竟是何人所为？顶级大牛程序员改行送外卖的背后又有什么隐情？当精英创业团队面临理想与现实的冲突，他们各自做出了怎样的选择？前端女汉子和美女市场经理谁最终会得到钻石王老五的青睐？成功的曙光出现之时，又发生了什么匪夷所思的事情？当一切都尘埃落定之时，是技术改变了世界，还是资本扭曲了人性？————《码农故事》 一般有程序员小说我都是要读读看的，一来帮助我这种行业菜鸡初窥一下行业规则，二来可以从一个程序员的眼睛重新看待一些人和事。总得来说，多半是有趣而丰富的。 由于是在线更新连载，时间线比较长，前期的想法已经记不清了。我这里主要说说公司CEO赵川的人物性格演变。创业初期，赵川带着追随自己并一同离职的莫楠开发了一个健康社区，公司只有寥寥数人，当同事追问赵川为什么要从待遇丰厚、条件稳定的大公司离职时，赵川是这么回答的：   我出来是因为讨厌给客户做开发。在咱们这儿多好，只有用户，没有客户。一切工作都是为了让用户满意，直截了当，也有成就感。 刚刚摆脱大公司的束缚，单干起来，赵川只觉得神清气爽，上楼也不累了，干活也有劲了。而到了A轮融资的前期，经历了诸如对投资方行事路子野的不适应到麻木；公司发展目标的巨大压力，18个月用户翻10倍到12个月翻10倍；人员流动带来的核心代码流失；DDoS攻击竞争对手。公司CEO赵川，受到方方面面施加的巨大而持续性的压力。最后的结果就是人格、世界观，方法论都发生了巨大的变化甚至是扭曲。第九十四回，莫楠最后一次找赵川谈话。 赵川面无表情地答道：   莫楠，人不能一辈子只活在理想里。咱们生活在一个讲现实的社会，没人真正会关心你的理想，除非你的理想可以转化为利益。再说，如果没有现实的利益给它送去口粮，理想也会饿死的。 莫楠又一次愣住了：   老大，你真的变得让我觉得很陌生。以前我觉得你是一个理想主义者，我是受你的影响，成了半理想半现实。可现在呢，我快进化成真正的理想主义者了，你却突然变成了现实主义者！ 所谓一将功成万骨枯，公司最终A轮融资成功，公司估值达12亿元，办公室也重新搬回了市中心的高级写字楼。然而人走茶凉，铁杆小弟和日益成熟的产品经理受不了公司气氛变化双双辞职。天使投资人套现身退，赶在东窗事发前跑路。跟公司相关联的高中同学开发区主任和顶头的副市长均被带着调查。坐在宽敞的独立办公室里，赵川呆呆的望着落地窗外鳞次栉比的商业楼。这十二个月，自己到底是收获了，还是失去了。 作者微博：老码农的自留地 ","categories": ["blog"],
        "tags": ["book"],
        "url": "http://wurui.cc/blog/programmers-story/"
      },{
        "title": "一地鸡毛",
        "excerpt":"  啤酒虽然夺了过去，但小林脑袋已经发懵，这天夜里睡得很死。半夜做了一个梦，梦见自己睡觉，上边盖着一堆鸡毛，下边铺着许多人掉下的皮屑，柔软舒服，度年如日。又梦见黑鸦鸦无边无际的人群向前涌动，又变成一队队祈雨的蚂蚁。   能帮忙先说不能帮忙，好办先说不好办，这才会成熟。不帮忙不好办最后帮忙办成了，人家才感激你。一开始就满口答应，如果中间出了岔子没办成，本来答应人家，最后没办成，反倒落人家埋怨。   两人都是大学生，谁也不是没有事业心，大家都奋斗过，发愤过，挑灯夜读过，有过一番宏伟的理想，单位的处长局长，社会上的大大小小机关，都不在眼里，哪里会想到几年之后，他们也跟大家一样，很快淹没到黑压压的千篇一律千人一面的人群之中呢？   你也无非是买豆腐、上班下班、吃饭睡觉洗衣服，对付保姆弄孩子，到了晚上你一页书也不想翻，什么宏图大志，什么事业理想，狗屁，那是年轻时候的事，大家都这么混，不也活了一辈子？有宏图大志怎么了？有事业理想怎么了？“古今将相在何方，荒冢一堆草没了！”一辈子下来谁不知道谁！   找人办事，如同在单位混事，只能投靠一个主子，人家才死力给你办；找的人多了，大家都不会出力；何况你找多了，证明你认识的人多，显得你很高明，既然你高明能再找人，何必再找我？这时除了不帮忙不说，还容易产生抵触心理，说不定背后再给你帮点倒忙，看你不依靠我依靠别人这事能办成! 《一地鸡毛》 ——刘震云  ","categories": ["blog"],
        "tags": ["book"],
        "url": "http://wurui.cc/blog/ground_covered_with_chicken_feathers/"
      },{
        "title": "GoPro 360 Degree Video",
        "excerpt":"This video is made by Jonas Ginter with 6 GoPro Cameras and I find it quite interesting.  And here’s how he made it.  More details ","categories": ["life"],
        "tags": [],
        "url": "http://wurui.cc/life/gopro-360-degree-video/"
      },{
        "title": "Google Code Jam 2014",
        "excerpt":"The Qualification Round of Google Code Jam 2014 just ended. Here shares my solutions on the Github for the following problems. Google Code Jam 2014 has begun, You need to get 25 points to get to the next round, there are 4 problems out of which two problems needs to...","categories": ["tech"],
        "tags": ["google","code jam","school","competition"],
        "url": "http://wurui.cc/tech/google-code-jam-2014/"
      },{
        "title": "How a Science Experiment Turns Into Art",
        "excerpt":"  From wired.com ","categories": ["life"],
        "tags": [],
        "url": "http://wurui.cc/life/how-a-science-experiment-turns-into-art/"
      },{
        "title": "We Won This Game",
        "excerpt":"MIZZOU VS SDSU 8/30/2014  ","categories": ["life"],
        "tags": ["school"],
        "url": "http://wurui.cc/life/we-won-this-game/"
      },{
        "title": "Microsoft Coding Competition - University of Missouri I",
        "excerpt":"This is a Coding Competition MS held at University of Missouri - Columbia on Sep 17th 2014. Similar events will be held in several Universities. Team up to 3 people. Six problems are given and you have 2 hours to get as many scores as you can. There’s no partial...","categories": ["tech"],
        "tags": ["codeing","school","competition"],
        "url": "http://wurui.cc/tech/microsoft-coding-competition-university-of-missouri-1/"
      },{
        "title": "Microsoft Coding Competition - University of Missouri II",
        "excerpt":"Here posts  3 problems without solution. Question Two OData service | 2 point(s) The Open Data Protocol (OData) is a data access protocol created by Microsoft that builds on simple REST principles. Your task is to retrieve certain data from a sample (live) OData service. For this problem you will...","categories": ["tech"],
        "tags": ["codeing","school","competition"],
        "url": "http://wurui.cc/tech/microsoft-coding-competition-university-of-missouri-2/"
      },{
        "title": "Microsoft Coding Competition - University of Missouri III",
        "excerpt":"Here are two problems value 1 point each. Most team can get these 2 points and I spent 30 minutes on each one. Question Five A variation on anagrams | 1 point(s) Let’s assume you were recently hired by a Start-up. On the first day, you meet the CEO and...","categories": ["tech"],
        "tags": ["codeing","school","competition"],
        "url": "http://wurui.cc/tech/microsoft-coding-competition-university-of-missouri-3/"
      },{
        "title": "Run Walter, Run!!!",
        "excerpt":"Siracusa, Sicily (ITALY). Walter, is a Labrador. He’s a special dog, who really loves the sea!  ","categories": ["life"],
        "tags": ["fun"],
        "url": "http://wurui.cc/life/run-walter-run/"
      },{
        "title": "舞者",
        "excerpt":"要是舞者不能跳舞的话，那活着也就没什么意思了。 她把食指按在嘴唇上，眼中回想着故事情节开始陈述起来。 “那个女孩子有一个仰慕的男性。那是个新涌现的政治家，那女孩无论如何都想让他在改选中胜出。她妈妈很有钱，听了女儿的愿望后，就提出要向那个政治家援助资金。但是他却非常气愤，他不想被孩子的一时高兴所利用。” “这心情可以理解。”加贺说。 “然后她妈妈就向他道明了事情原委，原来那个女孩患了白血病，已经不能活多久了，所以想在她的有生之年为其实现更多的愿望。而且那个女孩儿也知道自己的病。于是那个年轻政治家就答应了她们母女俩的要求。两人还进行了短途旅行。而在旅行途中得知正在上演‘核桃夹子’的舞剧后，他和主办方进行了交涉，并得到了允许让那个女孩儿出演。总彩排的时候那个女孩儿展现了完美的舞姿，赢得了大家的掌声。女孩儿高兴地说，明天就是正式演出了，在舞台上跳舞真像做梦一样啊。” “然而，”未绪接着说，“在回家的地铁上她的病犯了，妈妈我头痛——随即她就死去了。不过在她留下的日记上她写着：请不要为我的死而悲伤。之后那个年轻政治家也赢得了选举。” “真是伤感的故事。” “嗯，但是，”未绪说，“但我觉得并不令人沮丧，完美地完成舞蹈，到明天就可以放心离世了，虽说她那么年轻就死去很可怜，但作为一个舞者，她死而无憾。” ————《沉睡的森林》  ","categories": ["blog"],
        "tags": ["book"],
        "url": "http://wurui.cc/blog/dancer/"
      },{
        "title": "G高达定格——《自恋刑警》神同步",
        "excerpt":"百看不腻啊，每次都笑死了  然后我还把《自恋刑警》看了一遍。。。 ","categories": ["life"],
        "tags": [],
        "url": "http://wurui.cc/life/gundam-figure-animation/"
      },{
        "title": "Horseshoe Canyon Ranch",
        "excerpt":" This weekend I went to Horseshoe Canyon Ranch, a fantastic place for climbers, with MU climbing club. We slept under beautiful starry sky, set up the largest campfire among all groups on the mountain and climbed some cool rocks.       ","categories": ["life"],
        "tags": [],
        "url": "http://wurui.cc/life/horseshoe-canyon-ranch/"
      },{
        "title": "2014 MIZZOU Homecoming",
        "excerpt":"This Saturday we had the Homecoming Parade and I tried to comprehend a little bit of Documentary Photography.        ","categories": ["life"],
        "tags": ["school"],
        "url": "http://wurui.cc/life/2014-mizzou-homecoming/"
      },{
        "title": "Light Up",
        "excerpt":" Feb 4th 2015, snow before sunset, street lamp just up, a quiet day at home. Photoed outside my apartment, Tara, Columbia, MO. ","categories": ["life"],
        "tags": ["school"],
        "url": "http://wurui.cc/life/light-up/"
      },{
        "title": "Hello World",
        "excerpt":"这是雏龙的一声怒吼，wurui.cc 今天上线啦！这标志着即上代主页ruiwu.me之后，更轻巧，更持久的新生主页的破壳而出，惊动天地，紫云东方！  ","categories": ["blog"],
        "tags": ["blog","domain"],
        "url": "http://wurui.cc/blog/hello-world/"
      },{
        "title": "New Domain and Web Site",
        "excerpt":"After the expiration of ruiwu.me, I’m looking for a new cheap solution for my personal blog. The original AWS EC2 &amp; Wordpress solution is a little bit expensive for individuals and I know one of my friend Zhaoyu is using a Github &amp; Jekyll solution. Since all those services are...","categories": ["Tech"],
        "tags": ["jekyll","github","blog","website"],
        "url": "http://wurui.cc/tech/new-domain-and-web-site/"
      },{
        "title": "可视化网络 Gephi",
        "excerpt":" Gephi是一个全平台的交互式可视化平台，它特别适用于复杂的大数据可视化工作。下载 实时可视化    Gephi使用的高速引擎可以快速迭代出你想要的图像。  超大网络，从5w节点到100w节点都可以支持。  大量可用工具。高效简易的布局工具  对复杂图进行布局是一个困难的问题，而Gephi提供了最简易高效的布局算法。软件还支持在迭代的同时移动单个或是一片节点。你还可以在market中下载更多的plugin，其中也包括了来自不同开发者的其他布局算法。 简单翻译自 Gephi Features 快速入门 原始文档 图数据导入 Gephi支持所有主流的图数据格式导入，例如GEFX，GraphML，GML。同时也支持简单的CSV格式导入，缺点是只认前三列，不方便添加Label或者其他属性。如果你在使用neo4j，可以使用neo4j-shell来导出图数据。如果以上方法都不合适，可以找到以上几种文件的格式，自己生产图文件。我有一些简单程序，有需要的可以留言。  布局算法 在左下角有布局算法区，大可以随意尝试几种不同的算法和参数，点击run看看效果~  常用的汇聚算法有ForceAtlas，ForceAtlas2。分散法有Fruchterman。如果是Community比较分散的情况，Yifan Hu有不错的效果。 参数比较常用的有scale控制大小，speed控制迭代的速度和精度。有的算法也提供一个noverlap选项。 Ranking 左中部有常用的Ranking功能，此功能够对节点的小大，颜色；边的颜色，粗细进行调节。一般进行完布局和大小调节以后，你的图就有了一定的信息量和可读性了。  统计和分割 在窗口右边有各种统计功能，举个例子，像Modularity，能够对数据进行聚类，聚类的数据可以在子窗口调节。获得结果之后可以使用Ranking左边的Partition功能，这里提供根据之前的结果进行配色的方案。  预览（Preview） 之前的操作都是在Overview视图中进行的，Gephi的预览视图提供了多套更为生动的整体配色模板。你也可以对具体的参数进行调节。在左下方有导出选项。  数据实验室（Data Laboratory） 数据实验室提供对具体数据进行操作的视图，然后并不怎么好用，推荐还是在生成导入文件的时候把需要的属性、标签都加入。Partition部分也支持使用标签来进行分类配色。  Sigma.js 如果你对sigma.js很熟悉，或者希望得到能够在网页动态展示的数据，或者neo4j的展示能力不能满足你的需要，那sigma plugin就很对你的胃口。文章第一张图和下面这张是我生成的图在sigma.js上展示的效果。  这里要允许chrome从本地获取文件，在mac上的用法是 1 先关闭所有的chrome进程，2 带参数启动chrome。 /Applications/Google\\ Chrome.app/Contents/MacOS/Google\\ Chrome --allow-file-access-from-files","categories": ["tech"],
        "tags": ["visualization","big data","graph","d3"],
        "url": "http://wurui.cc/tech/gephi/"
      },{
        "title": "D3 实战练手",
        "excerpt":"工作相关，了解流行的可视化库，（如百度echarts，GoogleCharts，Gephi等）最后还是D3 Gallery的诸多Demo惊艳了我。简单介绍后带来我的实战。 D3是一个基于数据操作文档JavaScript库。D3帮助你给数据带来活力通过使用HTML、SVG和CSS。D3重视Web标准为你提供现代浏览器的全部功能，而不是给你一个专有的框架。结合强大的可视化组件和数据驱动方式操作Dom。 D3允许绑定任何数据到DOM对象模型，然后应用数据驱动转换到文档。例如：你可以用D3从数组生成HTML表格，或者使用相同数据平滑和动态创建一个SVG图表。 D3不是一个庞大的框架，像想象那样提供许多功能。相反，D3解决这关键问题：基于数据文档高效操作。避免专有的表现，同时提供良好适应性。公开全部功能，如CSS3、HTML5和SVG网页标准，很少的开销，D3速度非常快。支持大数据集和动态交互和动画效果。D3的功能设计允许代码重用，通过集合不同的组件和插件。 引用自小渝人儿 实战一 标签云 Live Example: wurui.cc 首先是数据准备，我用Java写了一个采集全站高频词的程序，输出一个&lt;单词，字号&gt;的map，让高频的词有更大的字体。 数据采集过程需要注意的是对中文进行分词，Stopwords的排除以及根据词频计算字号。 然后我们使用D3的布局函数d3.layout.cloud.js。再根据map设置字号，颜色随机就可以了~ 实战二 Sunburst Live Example: wurui.cc sunburst不知道怎么翻译好，光芒？简而言之是一个圆盘的多级结构，也可以说是一个变异的树结构。 同样写一个程序来获取数据。这次进步一点，把数据放在一个json文件中。这里我想展示一个博客-分类-文章的多级结构，最外圈每一个扇形的大小由文章的字节数来确定。内圈的累计计算由D3自动完成。 绘制部分感谢bl.ocks.org，这次没有现成的layout，基本靠画圈圈来完成的。 给每个部分加上标签坡费了我一番周折，最后还是没有理解mousemove事件返回的鼠标位置到底在哪儿，如果知道怎么调，欢迎留言。 实战三 Geo Map Live Example: wurui.cc 在页面上绘制地图，这里每一条边都是现场绘制出来的哦。数据源请搜索“GeoJson china”（懒人请进）。 源码简单易懂，值得一提的球体经纬度如何投影到二维平面上，这里使用常见的墨卡托投影。投影方式千奇百怪，世界中心到底在哪，有兴趣的同学可以看一看。 var projection = d3.geo.mercator()添加一个map，根据我到过的省份频次给不同区块上色。 然后添加了简单的交互，类似刮刮乐，鼠标扫过便能揭开真相！ 实战四 Chord Diagram Live Example: wurui.cc Chord既是和弦的意思，第一次看到这种类型的图时简直闪瞎我的狗眼，惹得我非常想自己做一个。 这个类型的图非常适合点对点的数据类型，比如Uber流量图。那我一个小博客，页面间跳转少的可怜，做个河图还可以，怎么也撑不起chord。哪里去找点对点的数据呢？最后我非常无耻的选择了pairwise document similarities。。。即博文间的相似度。。。。 这里又用到一些简单的自然语言处理方法（包括前面的stopwords）。用TF-IDF建立向量，简单的用余弦值来作相似度。程序 D3提供现成的d3.layout.chord，调用即可，每条弦的宽度会根据你带入的值自动计算。再给不同分类的文章加上颜色，炫酷的Chord Diagram就出炉啦！...","categories": ["tech"],
        "tags": ["visualization","big data","graph","d3"],
        "url": "http://wurui.cc/tech/d3-js/"
      },{
        "title": "黄龙溪小游",
        "excerpt":"  不时有竹筏往来湖水中，不下水湿身也得了亲近水的机会。荷花正好，伴着悠扬的乐曲，静静的享受夏日。     园园今天颇有大家风范，车上安安静静，人多的地方也不乱跑乱吠。      穿镇而过的河道，水浅而清澈，成了酷暑中的天堂。大人小孩都装备着水枪，你来我往，相互泼洒着欢乐。  一根面，不知何时成了黄龙溪的标配了。夏日里，吃点凉粉凉面，实惠又巴适！ ","categories": ["life"],
        "tags": ["photo"],
        "url": "http://wurui.cc/life/huanglongxi/"
      },{
        "title": "知乎爬虫",
        "excerpt":"一直没有写过爬虫程序。感觉都不只是遗憾而是一种缺失了。之前在知乎看到类似“能利用爬虫技术做到哪些很酷很有趣很有用的事情？”，又一次激发了我玩一玩爬虫的兴趣。而爬虫的对象就用知乎好了，语言用我最近正在磨砺的Python。 知乎作为知识问答式的网站有很强的社交属性。四月的时候知乎社区酝酿成熟，兴起了一波线下聚会。如何让本来陌生的参与者快速找到共同的痛点，轻松识别大小V？社交网络提供了很好的方法。 先上效果图 live demo 用蓝色点表示用户，用橙色点表示问题。点与点的链接表示用户提出或者回答了某个问题。 用户的蓝点大小设置是根据关注数取log，既大V大点，小V小点。 鼠标在节点停留会显示名称，用户节点还会显示关注数。其他也有一些可以有的功能，但是为了简化砍掉了。我认为一张图不宜包含过量的信息，而应该让用户保持关注核心信息。新式图表容易包含过量，过杂，或者维度过高的信息。这样看起来炫目，然而并不利于用户使用。 实现细节 Python爬虫现有成熟技术，使用 Beautiful Soup 4 解析 html 文档，使用 requests 处理 http 请求。可以预见已经有前辈做过知乎爬虫。在github搜索以后发现egrcc的zhihu-python fork数高达207。浏览代码以后发现egrcc已经把提取‘问题’，‘用户’，‘回答’等封装的很完美了。 第一步，qq向‘椒Club’组织联络员小麦要到名单，只要id就可以了。 然后遍历id，获得所以Users users = [User(user_url) for user_url in lines]分别获得每个user的提问和回答 for user in users: answers = list(user.get_answers()) asks = list(user.get_asks())为了简化图，强化社交熟悉，要求每个问题至少需要和两个以上用户产生链接。 questions = defaultdict(int)for ask in asks: questions[ask.get_question().get_title()] += 1for answer...","categories": ["tech"],
        "tags": ["visualization","big data","graph","d3","知乎"],
        "url": "http://wurui.cc/tech/zhihu-python-crawler/"
      },{
        "title": "时间序列异常检测",
        "excerpt":"本文总结了我在时间序列异常算法方面的一些经验。读者需要对常规机械学习算法有一定的了解。希望本文能帮助有相关需求的工程师快速切入。 EGADS Java Library EGADS (Extendible Generic Anomaly Detection System)是Yahoo一个开源的大规模时间序列异常检测项目。它的框架主要由两个模块构成，一个是时间序列构造模块，另一个是异常检测模块。给定一段时间的离散值（构成一个序列），时间序列模块会学习这段序列的特征，并试图重新构建一个和原序列尽量接近的序列。结果和原序列一同送入异常检测模块，基于不同的算法（原则，阈值），异常点会被标记出来。 Time-series Modeling Module 时间序列构造模块提供了多种算法。简单介绍如下： Olympic Model（Seasonal Naive）一个简单的窗口模型，对点Px的预测为点Px前n个值的Smoothed Average. Exponential Smoothing Model 一个平滑模型，由简单的数列获得。ETS模型可以自动选择Single、Double、Triple里面匹配最好的输出。 Moving Average Model 也是平滑模型，点Px的预测值取邻近点的平均值。 Regression Models 一般是线性回归，特殊例子或者异常偏差特别大的时候有用。 Anomaly Detection Module 异常检测模块 ExtremeLowDensityModel 超低密度模型，很简单有效的密度模型。 AdaptiveKernelDensityChangePointDetector 拐点检测模型 KSigmaModel 经典K-sigma模型 DBScanModel（Density-Based Spatial Clustering of Applications with Noise）又是一个基于密度的模型，在空间中作聚类，如果目标序列可以比较好的分类的话会有不错的效果。 实践经验 序列构造自动选优 不同类型的数据可能适合不同的模型。选择AutoForecastModel，程序会自动把所有TMM都跑一遍，并推选偏差值最小的模型送入异常检测模块。值得注意的是，这里自动选取的标准只关注了还原度，但还原度高并不直接代表能更好的查找异常，在使用本方法的时候要留意在心。 多数投票算法...","categories": ["tech"],
        "tags": ["machine learning","anomaly detection","time series"],
        "url": "http://wurui.cc/tech/time-series-anomaly-detection/"
      },{
        "title": "图数据库系列(一) 初见Neo4j",
        "excerpt":"Neo4j简介 Neo4j是一个高性能的图数据库，属于NOSQL数据库中的一类。数据以图的形式存储而不是传统的表结构存储。Neo4j也可以被看作是一个高性能的图引擎，该引擎具有成熟数据库的所有特性，以及单机存储10亿级数据的能力。程序员工作在一个面向对象的、灵活的网络结构下而不是严格、静态的表中. Neo4j因其嵌入式、高性能、轻量级等优势，越来越受到关注。 图形数据结构 在一个图中包含两种基本的数据类型：Nodes（节点） 和 Relationships（关系）。Nodes 和 Relationships 包含key/value形式的属性。Nodes通过Relationships所定义的关系相连起来，形成关系型网络结构。 安装 Neo4j可以被安装成一个独立运行的服务端程序，客户端程序通过RESTful API进行访问，也可以通过浏览器Console运行Cypher语句。另外Neo4j支持嵌入式安装，即安装为编程语言的第三方类库，目前只支持java和python语言。同时Neo4j也可以同Gephi结合，成为其插件式数据库源。 因Neo4j是用java语言开发的，所以确保将要安装的机器上已安装了jre或者jdk。 具体教程参见LjHero的这篇博文，本文不再累述。 Cypher简介 Cypher是一个描述性的图形查询语言，允许不必编写图形结构的遍历代码对图形存储有表现力和效率的查询。Cyper通过一系列不同的方法和建立于确定的实践为表达查询而激发的。许多关键字如like和order by是受SQL的启发。模式匹配的表达式来自于SPARQL。正则表达式匹配实现实用Scala。Cypher是一个申明式的语言。对比命令式语言如Java和脚本语言如Gremlin和JRuby，它的焦点在于从图中如何找回（what to retrieve），而不是怎么去做。这使得在不对用户公布的实现细节里关心的是怎么优化查询。 这个查询语言包含以下几个明显的部分： MATCH：图形的匹配模式，束缚于开始点。 WHERE：过滤条件。 RETURN：返回所需要的。实战演示 本场实战，我选取了一个邮件头（Email Header）数据集。希望通过构造图数据库，能将邮件的流向关系清晰的展示出来。 数据预处理 原始数据email_headers.csv包含了1170封邮件的数据头部分。数据有四列：From, To, Date, Subject。即发件人，收件人（复数），时间，主题。 经过数据预处理，我将源数据分解为了三个文件： addresses.csv: 所有不同的邮件地址，同时加上id。 emails.csv:所有不同的邮件，以及发送时间和主题。加上id。 relations.csv:所有的发送，接受邮件关系。包含Email_id，From_id，To_id。通过预处理，源数据清晰的分解为了图数据的两个组成部分：节点（邮件地址、邮件），关系（发送、接收关系）。 接下来我们启动Neo4j server，打开浏览器Console（默认端口7474），开始使用Cypher加载数据。 清除所有节点和关系 MATCH (n)OPTIONAL MATCH(n)-[r]-()DELETE n,r加载邮件地址，生成Person节点 LOAD CSV是Cypher支持的从CSV文件载入数据的方式。 LOAD CSV WITH HEADERS FROM...","categories": ["tech"],
        "tags": ["graphDB","neo4j"],
        "url": "http://wurui.cc/tech/neo4j-first-sight/"
      },{
        "title": "分离无连接子图",
        "excerpt":"实践中经常遇到这样一个小问题。有一套图数据，所有节点间并不是全部连通的（任意点间均有通路）。这必然导致出现相互隔离的子图，这时我们可能希望将所有分离的子图找出来，单独处理。这里给出解决这个问题的一小段程序。 The problem is, given a set of edges(node, node), seperate all subgraphs that are isolated from each other. Isolation of two graphs Gx and Gy is defined as every node Xi in Gx has no edge(or path) to every node Yi in Gy. data = [[1,2],[2,3],[3,4],[5,6],[6,7]] # expect output...","categories": ["tech"],
        "tags": ["graph","python"],
        "url": "http://wurui.cc/tech/isolate-disconnected-subgraph/"
      },{
        "title": "小游戏1024自动机与AI",
        "excerpt":"之前看到Coding 4 Fun的博客，使用Qt+BlueStack实现自动天天爱消除。哇塞，好牛逼！写程序来开挂，这么高科技的玩法勾的我跃跃欲试了。 考察一下技术方案，原文提到的Qt+BlueStack我都没有接触过，还是首选Python来的比较快。游戏选择另外一款曾经火热过的小游戏1024。其实早在1024还火的时期，就有人做出了直接写在JS中的AI来自动玩游戏并获得高分。但是这里我希望也是做成基于图形识别的自动机框架。这样以后遇到别的游戏，图形识别和控制指令部分也能借用相同的代码。 第一步 图形抓取 搜索一番发现可以使用Pillow的ImageGrab。但是Windows使用正常，mac却需要使用一个修改过的版本，下载以后直接导入。 import ImageGrab# initial graphic settingsBOX = (55,545,1055,1545)WIDTH = 214INTERVAL = 28# position checkingim_t = np.asarray(ImageGrab.grab(BOX))imshow(im_t)# get origin_x, origin_yorigin_x, origin_y = getOrigin(im_t)print 'origin =', origin_x, origin_yorigin = 27 23 在屏幕上合适的位置取一个区域BOX，作为每次取屏的区域。这里不用特别准确，保证游戏区都在其中就可以了。getOrigin方法取得游戏区的准确位置，帮助校准，后面定位每个块的位置就方便了。我提前测量了游戏区域的尺寸数据，得知每个块的边长大概是214px，块间距是28px。 第二步 数字识别 获得图形以后怎么识别里面的数字呢。简单想想，事先把1，2，4等的对应图形都存起来。识别的时候只需要一一比对就可以了。 但是实力不济，1024以后的图形就没法获得了。。。再观察发现貌似新出的块只可能是1，2，4。如果自己维护一个棋盘，每一步之后的状态自己计算，那就只需要识别随机出现的新块在哪个位置，数字是1还是2还是4就可以了。 但是眼残，貌似之前测量的有误差，实验的时候发现取的块不能完全重合，也就是不能用像素值全等来判断异同。。。估计有一两个像素的误差，想来也是人之常情。。。特别是图形特别复杂的时候，难以获得准备定位。第一考虑是用图形匹配算法，比如OpenCV的cv2.matchTemplate()。但是之前没有用过，不知道开销如何，我这里的问题实质又非常简单，无非是偏移了一点点位置。后来做了个实验，简单的把2D图形拉成1D链表，然后两个链表做PearsonCorrelation。结果效果非常好，阳性值都是0.99，阴性值0.3的样子。再后来为了提高速度，只取块中间50*50的区域，识别这几个简单图形仍然又快又好。 第三步 模拟游戏 既然是自动机，我们需要自己维护一个游戏模型。棋盘用一个4*4的矩阵就可以表达。 # initial boardboard = np.zeros((4,4), dtype=np.int)for...","categories": ["tech"],
        "tags": ["game","python","AI"],
        "url": "http://wurui.cc/tech/1024-autoplayer/"
      },{
        "title": "橡皮章DIY",
        "excerpt":"橡皮章，简单的手工。 玩了一个月，感觉第一阶段已经过去了。记录一下历程，展示一下拙作。  “平安” 第一个章居然选了刻字，真是有点自不量力。  接着二号三号选了花型，练习曲线。  “年年有余” 传统图案。印的不是很好，但是红黑配很有味道。  “吴睿私印” “机密” “皮卡丘” 私印设计哪家强？元代大书法家同名好。。。另外字母刻的不好。。。  乱乱的大集合~~ ","categories": ["life"],
        "tags": ["diy","橡皮章"],
        "url": "http://wurui.cc/life/eraser-print/"
      },{
        "title": "紫光檀手镯",
        "excerpt":" 初试木工手工艺，第一个作品，感觉还不错哟，又入一新坑。  初买来的时候是开好料的木环。对没有电动工具的对新手来说很方便。  用锉刀修出手镯的形状。  锉刀大概修成这样就可以了。  用砂纸磨磨磨，从180目开始，240，400，800，1000，到2000目。180目的时候要消除锉刀造成的刀痕，而之后每次递进都是消除之前更粗的砂纸的划痕。这个时候还第一次试着上了蜂蜡，图里可见不是很亮。  一周以后电磨到位，用德克士送的硬塑料水瓶中切做了一个夹具，把手镯套上。从低目到高目又重新打磨抛光了一次。网上查到紫光檀不需要上蜡，只要时不时用细布把玩就可以了。1个月左右产生漂亮的包浆。 ","categories": ["life"],
        "tags": ["wood","handcraft","DIY"],
        "url": "http://wurui.cc/life/wood-bracelet/"
      },{
        "title": "神经网络风格画 Neural Style Art",
        "excerpt":"A Neural Algorithm of Artistic Style这篇论文说明了如何使用神经网络学习一副画的绘画风格，并把这种风格带入自选照片。 比如下面这个例子，我们选择文森特·梵高的The Starry Night作为模板。学习过程让梵高灵魂附体我们的电脑，借脑还魂给我们作画。 是不是很想试试呢？下面简单说说我在Linux上的运行经验。 安装Torch 在terminal中运行以下命令 curl -s https://raw.githubusercontent.com/torch/ezinstall/master/install-deps | bash git clone https://github.com/torch/distro.git ~/torch --recursive cd ~/torch; ./install.sh第一个命令安装了LuaJIT和Torch需要的依赖。第二个命令安装了LuaJIT, LuaRocks,然后用LuaRocks安装了torch, nn，paths等. 脚本也添加了torch PATH到环境中，所以需要重启终端或者运行 source ~/.bashrc有可能需要更新image包到最新 luarocks install image安装loadcaffe caffe的依赖比较简单，只需要安装protobuf sudo apt-get install libprotobuf-dev protobuf-compiler然后安装loadcaffe luarocks install loadcaffe下载Neural Style的实现 先移动到你想存放项目的目录下。 Git clone https://github.com/jcjohnson/neural-style.gitsh models/download_models.shGit拷贝实现代码。 第二行下载训练好的神经网络模型VGG-19和它的改进型，VGG-19为默认设置。 默认设置运行使用 th...","categories": ["tech"],
        "tags": ["neural network","AI","art"],
        "url": "http://wurui.cc/tech/neural-style/"
      },{
        "title": "春夜喜雨",
        "excerpt":" 猴年的第一场春雨来的有力而急促。正月未过十五，春天已然来了有些时候似的，诧是奇怪的天气。 而新雨令我喜悦。正是新的一年，振奋的新的一年工作的开始。家里即将添个金猴儿，代步工具托夫人的福得以升级。无不是乐事！ 回忆起一些喜雨的诗句，都是大家熟知的句子，这里再拿出来读一读，也是舒服。 春晓 孟浩然 春眠不觉晓， 处处闻啼鸟。 夜来风雨声， 花落知多少。 绝句 志南 古木阴中系短篷， 杖藜扶我过桥东。 沾衣欲湿杏花雨， 吹面不寒杨柳风。 春夜喜雨 杜甫 好雨知时节， 当春乃发生。 随风潜入夜， 润物细无声。 野径云俱黑， 江船火独明。 晓看红湿处， 花重锦官城。 早春呈水部张十八员外 韩愈 天街小雨润如酥， 草色遥看近却无。 最是一年春好处， 绝胜烟柳满皇都。 这里志南的绝句和杜甫的‘春夜喜雨’皆是描写成都春雨的诗句。成都春秋多是夜里开始下雨，清晨便停了。记得中学时候周末回家，若是夜里开始下雨，我总会坐在窗台上，静静的听雨滴落在树叶，水面的声音，什么都不想，享受这片刻的放松与舒适。 ","categories": ["blog"],
        "tags": ["life","spring","rain","chinese poem"],
        "url": "http://wurui.cc/blog/spring-rain/"
      },{
        "title": "Lego Technic 42042RC",
        "excerpt":"Extreme9398之后又复刻了荒川的Buggy3，42037到手后尝试着自己改了遥控，因为都是车所以没有做视频。这次带来的是大型工程机械42042R履带吊车。 42042需要大量的13单位和15单位梁，拆了42043和42030后勉强够用。红外接收器需要3个，我只有两个，但是有一个sbrick。思路是sbrick驱动履带、驾驶舱和大转盘等底盘部分，一个红外负责吊臂提升和大绞盘。复刻完成后的样子。   爪子还需要自己改成电动。一种方案是L电机驱动mini推杆，然后用50cm延长线接到电池盒。但是我没有50cm延长线，所以直接把小电池盒放在了吊臂上，用第二个红外控制，想必降低了不少载荷。 一共用了3个L电机+4个M电机实现全RC改造，可以做7个动作：左右履带，转盘360度转动，可抬高驾驶室，吊臂提升，绞轮提升爪子，爪子开合。     第二个imovie作品，又学到了一些功能~~ ","categories": ["life"],
        "tags": ["lego"],
        "url": "http://wurui.cc/life/lego-technic-42042rc/"
      },{
        "title": "Lego Technic GMK 6400 Mobile Crane",
        "excerpt":"GMK6400是社区玩家合力升级自乐高科技系列42009大吊车而成，可谓是科技男孩儿的梦想之作，是一定程度上的巅峰。  动力和传动系统  边做边改的一些小细节 原版乐高推杆，简单修改一下，水平大概5度，垂直80度。两边基本接近极限了，没有用三方推杆的情况下基本满意。   伸缩臂的第三级在收回的时候容易被第二级的内部卡住。在末端加滑轮以后基本解决了这个问题。  推杆细节  因为我有2012-2015年的旗舰，全部杀肉以后分几次补了300rmb左右的散件。 项目演示+做视频玩儿~     This MOC is a community project and credits should go to Gerger, Blakbird, AFOL1969, (and others) for the design and the detailed instructions. Refer to the eurobricks thread for this MOC here ","categories": ["life"],
        "tags": ["lego"],
        "url": "http://wurui.cc/life/gmk-6400-mobile-crane/"
      },{
        "title": "基于深度学习的二进制恶意样本检测",
        "excerpt":"今年7月25日，我所在的公司瀚思科技在北京宣布完成B轮融资一亿元人民币，并且发布了新一代的病毒检测产品DeepSense。Deepsense可以做到沙箱同等水平的高检测率99%，而误报率低于1/1000。 7月27日，在2017网络生态安全峰会（前阿里安全峰会）人工智能与安全分会场上。我代表瀚思科技第一次披露了Deepsense的技术细节。11月16日，在InfoQ AI前线组织的瀚思安全月第三讲中，我又给大家介绍了最新的一些进展。这次分享有16个群的朋友同步在线收看，下面是分享的图文实录。 各位晚上好，首先感谢大家参与我的这次主题分享，同时也感谢 InfoQ AI 前线组织这次瀚思科技主题月！ 瀚思科技成立于2014年，按行业划分我们是一家安全公司。但和大家熟知的卖杀毒软件或者防火墙的传统安全公司不同。瀚思科技帮助各种中大型企业搭建安全大数据的分析平台，平台上应用的安全分析策略深度结合了多种机器学习算法，最终帮助企业定位与揭示各种安全问题。所以我们自己定位是一家安全+大数据+AI的公司。 在瀚思科技首席科学家万晓川的带领下，瀚思算法部门紧追时下AI领域最前沿的技术突破，并尝试应用在安全领域当中。今天是主题月的第三讲，接下来我会为大家分享我们是如何利用深度学习来做二进制恶意样本检测的。 agenda如上图所示，考虑我们主要的观众是大数据和AI方向的，我会首先介绍一下病毒检测的技术沿革，各种技术的优劣和取舍。然后我会说明为什么我们认为深度学习可以很好的应用于病毒检测。具体我们是怎么应用深度学习的，用的什么网络，中间有什么技巧。最后是实际操作后，我们得到的一些经验教训，以及下一步的发展规划。 如图所示，我们可以笼统的把病毒检测的各种技术根据两个不同的维度来进行区分。一是根据数据源可以分为基于内容和基于行为两种。二是根据检测方法分为：基于特征码、基于规则、基于算法。 基于内容的就是一般所谓的静态分析，病毒样本不需要实际执行起来。安全人员直接打开文件查看二进制码或者反汇编后来分析源代码都算静态分析。熟悉安全领域的朋友会注意到这里有个加壳的问题，加壳的样本，尤其是复杂的壳，要做反汇编其实并不容易。内容结合特征码就是传统的病毒引擎的原理，我们日常在都在使用。依赖安全人员给出精准匹配的特征码，匹配迅速，但是就如我们的杀毒引擎一样，需要定期更新病毒库。 基于行为的就是一般所谓的动态分析，需要在实际或者通过虚拟化的方法把病毒样本执行起来。通过考察样本对操作系统各种资源的操作来构建特征和分析。某些大病毒家族，比如勒索软件，因为操作高调，通过动态分析非常好识别。 基于规则的方法在静态分析领域用得很少，算是补充。但是在沙箱领域非常常见，因为病毒行为很容易写出规则来。但实际的情况是病毒在沙箱内运行的时间短，最多就是30分钟，往往10分钟都不到，导致其行为暴露不够充分。 运用分类算法基于行为特征来检测看似不错，但是行为特征少是一个明显的缺陷。所以很多时候往往是混合了动态的和静态的特征来构建。 运用网络行为加算法来分析就是目前比较火也很有前途的NTA（Network Traffic Analytics）。NTA既融合了传统规则，也结合了机器学习，通过监测网络的流量、连接和对象来识别恶意样本产生的行为。再配合上质量好的威胁情报，能产生高信息熵的特征，特别适合Botnet这一类的病毒。 在历史沿革和普及度上，我们需要知道在业界中，基于特征码（也就是内容特征匹配）的技术仍然占有压倒性优势。统计发现，只要能拿到对应的病毒样本，各大杀毒引擎厂家都能在3小时左右部署特征码。但这个工业流程到达极限以后，厂商在后台拿到新样本的速度很难再提高（APT也难拿到样本），要么是拿到了也处理不过来（新病毒的产生速度一直在提高，有报告统计出每4.2秒就有一个新病毒产生）。一般我们普遍认为，在APT开始大量出现后，特征匹配的方法（流程）到了极限。 如上图时间轴，考察Virustotal中集成的新引擎，可以看出各个厂商应用内容/行为+算法模式的推进速度。安全厂商普遍使用机器学习算法是从2000年开始的垃圾邮件检测，从最初的简单贝叶斯到04年的SVM。我们安全行业采用算法的速度并不落后于其他行业，衡量标准是安全厂商的数量。而学术界更早就有用算法解决安全问题的文章。前面提到09年后APT兴起，伴随着是沙箱类产品的兴起。2010年第一个GPU版的卷积神经网络出现，在图像识别领域飞速发展，网络变得越来越深，越来越大。到15年，基于深度学习的图像分类识别，其准确度已经超越了人眼。同年，微软开办了第一届恶意软件分类大赛（Microsoft Malware Classification Challenge）。虽然当年拿下第一名的队伍后来被爆出投机取巧了（后面还会讲到细节），但是MS的竞赛让很多厂商学到了实际的样本分类算法应该怎么去做。到16，17年的时候，Virustotal已经集成了诸如CrowdStrike、Invincea、Endgame之类的基于算法的检测引擎了。 我们再快速做个对比。基于行为的也好，基于内容的也好，方法本身并无明显的优劣，但是部署场景有着明显的区别。瀚思做的是2B端，所以如果做行为分析，只能依赖于把样本放入沙箱里跑，没法从已经感染了病毒的一个客户实际的电脑上收集到病毒实际的行为。同时现在反沙箱技术实在是过于普及，倚赖沙箱技术会导致病毒检测率的天花板很低。如果做内容分析，又容易被加壳技术干扰。对应非文件类型的样本，如寄存在内存中的木马等无法支持。考虑到瀚思没有终端检测的产品线，加上技术团队做沙箱出身了解其弱点，最终选择了内容+算法的路线。另外2B还有个优势是能看到样本的额外信息（安全设备日志），比如是从那个网站下载的，是哪封邮件的附件，这些可以帮助我们降低误报率。 第二部分我们讲讲为什么深度学习适用于病毒样本分类的问题。 首先是效果足够好，在图像识别、语音识别、机器翻译等领域的效果都远远超过非深度学习的算法。第二是样本的性质合适，深度学习就是擅长处理单一类型的数据。对应我们的输入都是二进制文件。第三要求足够多的样本，而样本越多准确的也越高。病毒的样本呢，根据Symantec在今年Q2的统计，单日样本可以达到300万。第四，可以避免人工去选择特征，只要一开始就设计好网络结构，深度学习会自动学习到重要的特征。再对比静态分析，比如用N-gram，特征数量会轻松突破百万，再乘以上面的样本数，机器学习是必然选择。 总得来说，深度学习的优点（超多特征，无需人工特征，样本越多越好）都非常适合二进制病毒样本分类这个领域。目前我们也尝试应用深度学习到其他安全场景中（基于NLP的智能运维），但因为安全系统属于机器学习的下游，一般安全领域不容易直接产生对机器学习新思路突破，经常是借鉴上游的突破（如图像识别），所以还有很多安全领域等待我们去应用新的机器学习算法。 唯一的缺点就是深度学习目前还相对黑盒，研发人员和客户都还不容易理解，相关人员也不好招聘。 那么问题来了，我们的输入是文件，深度学习的输入是图像、语言、文字。中间如何转化？选取什么样的网络结构？ 什么是深度学习？2012年的ImageNet大赛中，Alex Krizhevsky凭借AlexNet一举把分类误差的记录从26%降到了15%，震惊了世界。而AlexNet的核心就是上图中的卷积神经网络。网络的输入是图像，输出是该图像对应的分类。顾名思义，卷积神经网络包含多个卷积池化单元，其中包括了应用卷积核的卷积层，进一步降维的池化层。做完特征检测后，接入全连接层，观察输出特征与哪一分类最为接近。最后通过一个分类器得到分类的结果。 一般笼统的说法，越深的网络就代表更好的分类结果。但目前最新的一些网络模型都参考了resnet的理念，也就是很多个少数层的block组合而成，理念类似ensemble method，看block的构成和block的组合。对于这个样本分类来说，我们前后换过几个resnet变种，目前部署的模型是基于inception-v4，但目前正在实验densenet，因为同等检测率下，参数更少计算更快。在客户环境下部署，我们希望尽量降低对硬件的需求。从我们实验的效果看，从早的resnet到新的inception-v4，迁移学习后差别只在5%内。所以今后我们研究的重点在速度了，网络选择是第二位。 之前我们提了一个问题，我们的输入是二进制样本，而卷积神经网络的输入是图像，怎么办？其实这个问题有两层含义，第一，我们需要把二进制样本通过一种方法转换为图像。第二，我们需要借助图像分类的经验甚至是特征模型来帮助我们做病毒的分类。 那么具体讲解我们的工作流之前，我们先引入一个概念：迁移学习。 在今年的CCAI上，香港科技大学教授杨强又跟大家分享了什么是深度学习的迁移学习，这里借用他一张ppt。现在我们有两个近似领域A和B，通过深度学习自动提取特征以后，我们发现两个领域在浅层网络中的低级特征其实是可以共享的，而在深层网络中因为领域不同而对应了不同的高级特征。一种普遍的情况是领域A有大量的标记数据，有优良的特征模型已经生成。而领域B数据量比较小。那么通过共享特征，我们可以应用迁移学习将适用于大数据的领域模型A借用过来，再通过领域B的标签数据去训练高级特征和分类，从而在领域B上实现更好的分类效果。 所以我们的流程如图所示。将正负样本按1：1的比例转换为图像。将ImageNet中训练好的图像分类模型作为迁移学习的输入。在GPU集群中进行训练。我们同时训练了标准模型和压缩模型，对应不同的客户需求（有无GPU环境）。 流程中比较核心的算法其实在文件到图像的转换。因为常规的网络一般能输入的尺寸也就是300 x 300上下，也就是9K左右的规模。而病毒样本的大小平均接近1M，是远远大于这个尺寸。图像领域的常规转换方法就是缩放，或者用pyramid pooling。这两者我们实验效果都非常低差，AUC在0.6左右。所以后来我们又设计了一个很复杂的pooling算法处理大尺寸文件。 前面我们介绍过，加壳的样本会对基于内容的分析造成影响。实验中我们发现文件A和B经过加壳后转图像。肉眼看过去，A和B的相识度会比以前更高。就好比PS中马赛克一张猫和一张狗的图片，马赛克强度越高，两图片处理后看起来越相似。但马赛克（加壳）强度低的话，其实处理后的图片和处理前的图片有一定的高纬度映射关系（加壳前后有对应关系）。这种关系，实验看起来深度学习网络能够分辨。当然强度大就无能为力了。假设算法目前是分辨猫狗照片，不管有没有马赛克。但训练照片中，只有猫照片有马赛克处理，狗没有。所以人工产生狗马赛克图片（人工对样本加壳），让算法有更强分辨能力，至少是对弱马赛克后的图片。 高强度马赛克的话，算法只能记住高强度马赛克后的特征，只是如果有额外信息，比如图片出现在的邮件正文有猫或者狗的字样，就能辅助我们判断（引入其他信息）。 流程中提过我们训练了双模型，一个的Inception-V4，一个是Squeezenet。Inception-V4是目前较为先进的模型，有最好的实验结果，训练和inference的速度也可以接受。而Squeezenet是压缩模型，参数数量只有AlexNet的1/50，虽然准确度稍差，但检测速度快很多，专为不能提供GPU环境的客户设计。另外针对这两个模型做迁移学习的时候，我们都替换掉了最顶和最低几层。 简单说一下测试结果，AUC可以达到0.985，误报率小于1/1000，检测的速度目前可以达到150M/天。 再与各位分享一些经验教训。上面提到检测率和误报率已经同等于沙箱检测的水平。而基于二进制文件的深度学习无需沙箱环境（无需在客户处部署沙箱）。深度学习模型记住的是病毒二进制文件中的有效特征，而不是特征码（特征码由专家选取，对应唯一病毒样本），所以具有更好的通用性。在实际测试中，即使一个月不更新模型，对新衍生的病毒样本也有较高的识别能力。 测试发现，对不同规模的样本进行测试。更大的数据集，有更高的准确度。这个深度学习本身的性质是一致的。再者不能完全把深度学习当成黑箱，而是需要分析其机制，至少要观察哪些样本的哪些特征比重较大。 今年5月爆发的WannaCry席卷了全球90多个国家，造成了很恶劣的影响。上图贴出了Virustotal上各家病毒引擎对早期WannaCry样本的扫描结果。我们可以看到，只有CrowdStrike和Endgame两家使用机器学习为核心的病毒引擎能够将其识别为可疑。这也印证了我们所说的泛化能力强。 另外有一个意外发现是，我们的模型对恶意的HTML检测率也很高。但同时对正常的HTML样本有很高的误报率。定位发现原因是训练集的恶意样本中包含很多HTML内容，被深度学习抽取成了特征。优化方法很简单，只需要在正常样本中加入一定的HTML就可以平衡。 前面提到微软比赛中第一名的方案是有问题的。他的方案是用N-gram产生数万特征，然后用XGboost来做分类。赛后有人发现，微软提供病毒样本时是按病毒分类放在不同路径下，而路径字符是包含在样本中，并被分类器判断成了重要特征。这才使其分类准确度优于其他选手。...","categories": ["tech"],
        "tags": ["deep learning","malware","AI"],
        "url": "http://wurui.cc/tech/malware-detection-by-deep-learning/"
      },{
        "title": "车旋元年，木工房の诞生",
        "excerpt":"一切都源自上半年B站上看到的美国退休建筑师Frank Howarth做木工的视频。这位哈弗毕业的大叔退休后住在Portland, Oregon，并在自家院子里建了一个独立的木工房。大叔不仅木工做得好，制作视频的水平更是远超一般的木工YouTuber。磁性的声音，定格动画技巧，gopro的应用，竭尽我空闲的时间，很快把油管上几十个视频都刷了一遍，还每天盼着更新。Frank的作品主要是一些碗，原木纹，拼花纹，每年圣诞节也一定会做一个ornament，让孩子们一起挂到圣诞树上。其余时候也像其他老外一样，改造木工房，做一些实用性的木工，修修补补等等。  于是一激动，我入了一台车床！ 但是木旋是个深坑！车床只是基础投资，接下来还有卡盘，车刀；进阶的有快换卡盘，大平抓，舍弃式车刀，掏空刀，开孔钻头，开孔延长杆，砂盘。数波淘宝操作以后有了下图的配置。。。  入了坑以后再也爬不出来。小木料划不来，大木料得买台带锯来开吧；做点柜子什么的得买台锯才锯的直吧；钻孔手电钻不能保证垂直，台钻来一台；木料截断得斜切锯吧；板材刨平没有压刨怎么行；这么多设备，不能木屑满天飞，集尘来一套。又是数波淘宝咸鱼操作，有了下面的木工房布局。  只买设备没有作品的都是装备党！不能背上这个名声，展示一下今年的主要作品：    【巴花日轮盘】 2017月4月22日  【巴花雷神之锤】 2017月6月10日 巴西花梨是古夷苏木的俗称，不属于传统红木范畴，更不是真花梨。但是遇到好的纹理也甚是漂亮，如果有鬼脸大板做张餐桌更是梦寐以求。   【黑柿山水杯】 2017月7月2日   【黑柿茶罐】 2017月10月15日 黑柿木学名十二雄蕊破布木，色泽随著木纹幻化，纹路曲折变化多端，似不规则山水状纹，深沉、内敛。黑柿木是最近几年才引进的稀有木材，自然山水纹理惊艳了众人，早些时候也是一木难求。  【黄杨葫芦】 2017月4月30日   【黄杨将军罐】 2017月12月2日 黄杨木属于常绿小灌木，其材质坚硬细腻，生长极其缓慢，至少要三十年以上树龄者才能作雕刻材料，所以也被称之为“千年矮”。将军罐，是中国陶瓷艺术的珍品。—种罐式，因宝珠顶盖形似将军盔帽而得名。     【大红酸枝茶刀】 2017月10月28日 大红酸枝交趾黄檀，这就是正经红木啦。茶刀主要是喝普洱茶时使用。   【老柏木缺口碗】 2017月5月6日   【老柏木水瓶座】 2017月10月29日 柏木是四川民居建房用的主料。这两件作品都是从一根几十年的拆房老料中诞生的。经常看北美木旋视频的朋友肯定知道，老外特别喜欢用黑胡桃、枫木。黑胡桃木特别漂亮，暗里透金，但是因为全靠进口的原因，价格十分昂贵，都赶上红木了。如果想模仿老外的某些黑胡桃作品，这个原料价格就超标了，更不用说树桩、树瘤这样的大件。所以私以为木旋，尤其是初级木旋，应该着眼于手边易得的本地木材。如四川有老柏木，金丝楠木，北方有渍纹枫木等等，都各有各自的纹理质地。    【风车木碗】 2017月11月25日 风车木有时候也被称做黑檀，又硬又重。   【阴沉金丝楠小象】 2017月4月8日 也就是金丝楠的乌木做的小象手机支架，不多的非木旋作品，阴沉木反而比较轻。 以上，就是2017年大部分拿得出手的作品了。今年是咱木工房的元年，望来年手艺进步，空闲时间多一点吧，年末实在太忙了！ ","categories": ["life"],
        "tags": ["crafts","wood working","wood shop"],
        "url": "http://wurui.cc/life/woodshop-2017/"
      },{
        "title": "那人，那年，那些事儿",
        "excerpt":"一 2014年5月27日，小吴来到哥村刚好21个月。此时国内打车软件激战正酣，百度投资了Uber，腾讯入股滴滴，阿里支持快滴。表面上看是打车之争，实质上是对线下支付，O2O入口的争夺。高潮时期，三家都日均烧钱一个亿来补贴用户，力度之大是过去的互联网从未经历过的。另一边，外卖业务开始冒头，被认为是团购后的下一个爆发点。这时美团、大众点评还未合并，但都相继在外卖领域布局，新贵饿了么线下疯狂扩张配送体系。如果继续走现金补贴的路线，很快也要进入资本战争阶段。 闪回美国三线城市哥伦比亚，春季学期已经结束，小吴研究生阶段的主要课程已经修完，接下来主要是完成实验和写毕业论文了。5月27日是个重要的日子，通过朋友介绍的机会，小吴终于开始了在美国的第一份兼职工作。雇主Campus Facilities（CF）是学校负责基建和设施维护的一个独立部门。小吴所属的IT团队为CF做内部应用系统开发，支撑管理工单、合同、供应商等。也偶尔会帮助学校HR部门做一些项目，维护或搭建新的人事和工资系统。 小吴的mentor是个美国人叫Cayle，体型肥硕但是能灵活的坐着办公椅转来转去。桌面上有每日依赖的药物，也有汉堡可乐这样的快餐，喜欢吃各种豆子配玉米薄饼的墨西哥菜。Cayle是团队的技术主力，带着小吴用J2EE + Vaadin来做Java的全栈开发。全校统一购买Oracle的服务，license和服务每年都会花掉学校十几万刀，换来的是书架上每个版本的PL/SQL Programming和偶尔需要的远程电话支持。在这样一个美国中部的小城，Cayle过着典型的中产阶级生活。做着稳定的技术工作，定时上下班。家里住着小别墅，休息时间也在花园里种一些小番茄之类的蔬菜。 工作时间一开始难以适应，早上7点半上班，下午4点下班，中午半小时午餐时间。小吴每天都要起个大早，骑着借来的自行车纵穿Hitt Street，经过校医院，到达南部停车场附近的办公室，午饭经常是顶着太阳骑车回到学校食堂解决，而后没有太多休息时间，工作到四点再骑车回去，所以晚上的时间往往还很充足。那时候的薪资是13刀/小时，根据美国法律，暑期可以每周工作40小时，开学后就只能每周20小时。时薪在学校内部尚可，对比去餐厅打工的是8刀/小时，但是远远低于硅谷FLAG的实习薪资。第一个月结束小吴在BlueNile上买了一颗小石头送给女友，女友也很是喜欢。后来对比国内柜台，价格也是超值了。 在CF一直做到12月硕士毕业，8个月的收入支撑了小吴回国前一整年的开销还有剩。开学后的日子也很充实，上午上班，下班做实验写毕业论文。钱包鼓了以后生活也更滋润了。每周去沃尔玛采购一次，水果最爱车厘子和马奶葡萄，十块钱的能吃一周。偶尔煎一块黑盒装的牛眼肉，锅里一滴油都不放，煎好以后休息两分钟，一滴肉汁不流失。餐厅最爱吃chipotle，墨西哥的烤肉卷有肉有饭有蔬菜，口味也喜欢，一顿7块5。外卖最爱吃多米诺的披萨，加鸡翅的套餐13块钱，也是超值。 北美的校园生活特别容易让人沉醉其中，舒适的环境，不大的课业压力。不少留学生会因为这样那样的原因在学校多待上一年甚至几年。读个minor吧，双硕士也不错，咬咬牙读个博士，甚至单纯因为论文或是找工作的原因延毕。不同的人有不同的人生进度，有时候缓一缓也未尝不好，但关键时候还是要把握自己，走出舒适区，以免有违初心。 二 2015年2月21日，小吴第一次来到硅谷。毕业季应聘的过程并不顺利，在毕业舒适区中沉浸了两个月的小吴心态发生了变化。从开始的不慌不忙，到接受Google、亚马逊等大公司相继面试失利后的惨淡现实，着实感受到自己需要一些变化。这按罗永浩的说法，是需要一种艰苦凄惨的环境来磨练自己，烘托背水一战的气氛。所以没有太多准备，小吴带着一套正装就搭上了飞往旧金山的飞机。 程序员在美国找工作无外乎几件事：1. 找一个大都会落脚 2. 反复的刷题 3. 找人内推 非常幸运，两天后小吴就在craigslist上找到了一位不错的房东。房子位于圣何塞一个安静的街区，院子里自己搭出来的一间房，没有厕所，但是房东提供了被褥，厨房里的锅碗也可以借用。房东Lucy是珠海人，老家的房子据说和澳门只隔一条马路。Lucy家乡有出海打拼的传统，先来的人站稳脚跟以后就拉帮带，逐渐在加州本地自成一派。Lucy会理发，在圣何塞开了一家美容+理发店。在硅谷这样的地方语言不构成问题，牙医有中国人开的，律所有中国人开的，所有中文服务印成了一本厚厚的中文黄页。Lucy还拉帮带了一个表哥。表哥会装修房子，小吴住的单间就是他在后院里搭出来的，他自己的单间就在对面，Lucy不收他房租。表哥40岁了还没结婚，也没什么积蓄，喜欢唱歌，小房间里放了一套音响，经常放着“为你我用了半年的积蓄，飘洋过海的来看你”。 题刷的很快，内推也很有效，陆续经历了不少笔试、面试、onsite。在这个过程中隐隐感觉到一些问题。首先是职位，后端开发的职位很多，但大多是应用开发的职位，大数据类的核心研发我基本没有碰到。其次是老印无所不在，下到程序员，上到CEO，无处不卡着你。小吴印象最深的是去面试德勤位于奥兰多的一个研发中心，在休息室等待的candidates除了小吴还有三个老印，面试官还是老印，公司除了高层95%都是印度人，真是让人感受到一种印度恐惧。后来偶然的机会看到国内的招聘机会（刚兴起的拉钩），抱着试一试的心态小吴选投了8家公司的大数据/机器学习岗位。居然每个都快速回复了，有家甚至直接安排第二天在北京SOHO面试。面试节奏很快，最终选定的是一家安全行业的创业公司在成都研发中心的算法岗位。后来多次有朋友问为什么选择创业公司，小吴都回答说其实也没考虑太多，价钱合理，离家近，职位喜欢，还能期望什么更多呢。 前后在加州只待了一个月，Lucy和表哥待小吴都很好。Lucy好交际，朋友广。经常分享一些朋友农场送来的菜，还免费给小吴剪过头发，一次晚餐上的海石斑和白斩鸡现在都还能回忆起食材的鲜美。走之前听说表哥也要回珠海相亲了，不知道在飞机上听着这首“漂洋过海来看你”的他是什么心境。 小吴在硅谷期间滴滴、快滴完成了合并，4月份58、赶集宣布合并，11月份美团和大众点评发布联合声明。2015年，O2O市场格局已定，资本寒冬下初创公司死伤惨重，行业巨头纷纷合并。百度推出糯米，阿里打造口碑，京东开启到家，头部公司继续在资本市场投入的同时也在自有业务上发展布局。2015另一个特点就是，三巨头正在不断瓜分天下。各个垂直领域的创业公司在战场上打的头破血流，在接受巨头持续输血的同时也逃避不了逐渐成为巨头生态组成的命运。 三 2015年5月5日，青年节的后一天，小吴在成都入职。成都做为一个二线网红城市在IT领域也有一定的产业聚集，一些互联网指数报告中把成都排在北上广深杭之后的第六名。不少大企业考虑到人才和成本优势在成都开设了研发中心。开发出王者荣耀的腾讯天美L1工作室就地处天府三街的腾讯大厦，另一边蚂蚁金服已有上千名员工入驻了天府四街的蚂蚁C空间。在某些细分领域，比如游戏开发，成都有着相当规模的产业集群和历史积淀。但是，缺乏本土独角兽和近年房价的上涨让成都未来的发展有点堪忧。从员工成长的角度，由于远离总部经济和创业中心，职级和薪资的天花板看得见摸得着。从成都最近两年的人才流入流出也能看到新的围城，外漂的游子想回成都过上有生活的日子，往往先要接受降薪；本地的人才想要有更好的发展，就不得不背井离乡，加班加点并且承担更高的生活成本。 2015年的时候公司还是A轮创业阶段，合着北京的员工一起算，小吴拿到了35的工号。北京office负责做产品和项目，成都刚起步，前期主要由领导带着一起做安全研究，向项目上输出一些算法能力。研究的核心就是应用各种机器学习的方法解决安全问题。比如调研图数据库、算法，把公司采集的流量数据用图的方法构建起来找异常点。又比如做时间序列分析，调研业界开源的各种时序算法，在公司数据集上测试，从关联分析角度做correlation算法，做可视化分析等等。网络安全对小吴来说空白比较多，同步不得不恶补网络安全的基础知识。互联网上的基础架构DNS、ASN、BGP、Whois等；传统的安全设备、认证、厂家、服务；新兴的移动安全、云安全、IoT安全等问题；还有公司产品的核心——安全管理；诸如此类，不一而足。 公司施行扁平化管理，成都的同事都汇报给一个领导。领导是东南大学少年班毕业的天才少年，因此出道特别早，2004年就加入了趋势科技，离职前是趋势技术级别最高的专家。小吴印象最深的是2017年在北京团建时CEO说过的一句话，“因为Justin就想待在成都，那我就可以为他在成都开一家分公司”，可见领导在公司的分量。领导还是通才，涉猎很广，学习东西又够快够深。给安全研究组指导方向，这是本行，但还能指导算法人员，对各种异常检测技术的优劣也是烂熟于心，用深度学习攒一个异常检测模型，只要半天就能调个不错的结果。做数据可视化方案，2D、3D都可以快速实现验证原型。对大数据前沿技术的发展保持敏感，对核心DAG的优化也有不少实践经验，主导公司大数据实时处理系统的架构。甚至在设计和交互上还能细致的指导，让公司产品的UI、UX提升非常大。 四 2016年是人工智能走向主流的元年。AlphaGo击败李世石，宣告破解人类最复杂的游戏。百度推出Level4的无人驾驶，自动驾驶事业部负责人王劲宣布获得加州官方许可的测试牌照。IBM、微软、Facebook纷纷推出人工智能平台，使其生态圈内的开发者进入通用人工智能时代 AI-as-a-Service。 安全领域，各公司的老总们也开始思考人工智能时代企业所面临的新挑战。从内而言如何应用人工智能、机器学习算法提高自己产品的防护能力、威胁检测能力，降低对专家干预的依赖，减少人工运维的成本。从外部推动来看，企业客户越来越专业，对厂商技术能力、产品成熟度的要求越来越高。更有追逐时尚的客户直接要求厂商具备机器学习算法能力。有的竞标测试中，大数据存储计算，算法检测模型两大能力可以占到50%的技术评分点。 360在2015年成立了人工智能研究院，由知名机器学习专家颜水成担任研究院长，主要任务是完成人工智能相关方向的原始技术积累和安全领域垂直应用的探索。2017年，360团队在‘人工智能’世界杯ImageNet竞赛中拿下单项第一和团体冠军。全球市场来看，已经有80+的安全公司引入了人工智能技术进行安全分析。在各种安全峰会上，越来越多的议题和人工智能有关‘人工智能与安全’‘威胁情报与安全智能’‘云计算与大数据安全’等等。2018年的RSA大会，各厂家的展台上更是无AI不安全。 跟传统安全的攻击与防护不同。小吴所在公司所做的安全管理处理的更多是一条一条的日志，从海量日志中关联、提取威胁事件，提高安全运营的效率。通过大半年的摸索，小吴发现对不同的客户数据可以有一个统一的基本的处理流程，从数据清洗到特征提取，再到几类经典算法的异常检测。这可不就是一个分析师的三板斧么，如果能把这个过程自动化，那以后无论来了谁家的数据，都能快速输出一些结论。顺着这个思路，2016年1月，小吴演示了【 基于profile的用户行为异常检测方法】，这也成为了后来UEBA的理论原型。 五 UEBA是User and Entity Behavior Analytics的缩写，意为用户与实体的行为分析。2014年美国咨询公司Gartner的副总裁Avivah Litan提出了UBA的定义，2015年更名为UEBA，2016年入选信息安全十大技术。 User and entity behavior analytics offers profiling and...","categories": ["blog"],
        "tags": ["life","work","industry"],
        "url": "http://wurui.cc/blog/the-people-the-year-the-story/"
      },{
        "title": "家庭网络升级路1-骨干网升级",
        "excerpt":"2015年回成都以后，我多次对家庭网络进行升级。入户带宽从DSL的20Mbps提升到了光纤的300Mbps。这中间也有一些坎坷，简单记录一下。 03年我们一家就搬到了现在住的房子，最开始应该是电话线拨号上网的。中间可能还用过同轴电缆的宽带，记忆都很模糊了。一直到2016年，全家升级到了电信e家的169套餐。但是因为房子太老了，是没有光纤入户的。小区的电信箱子到我家大概有50米的距离，但是电信装机的师傅表示没有合适的走线通道，比如弱电井一类的，这种情况只能我们自己找人先把光纤拉好。后来纠结了好一段时间，再次投诉到电信之后，有位师傅愿意私人出工帮我们拉线，价格谈到700块。700块还是有点贵啊，机智的我想到了拉邻居入伙，简单沟通后一拍即合，看来天下苦电信久已啊！最终是顺利的以350的价格，通过门前的污水道把光纤拉回了家。  这时候入户光纤应该是有200Mbps的。仍然是房子太老的原因，墙内布线只有百兆，于是二楼以上都卡在了网线质量上。换线肯定是拉不动的，最后不得已选择了拉明线，室内走墙角，室外走污水管。这样2017年底的时候到二楼书房也有了千兆通路，三楼卧室接收二楼的无线信号。二楼次卧到书房用一个无线中继，有客人来的时候插上就好了。2019年三楼的次卧也启用了，不得不再买一个中继器，但是两级的中继效果就非常差了，看视频经常需要缓存，和亲戚视频连线经常卡主。  终于到了2020年，主要矛盾还是视频卡顿和三楼信号的问题。在各个论坛研究了数天以后，终于决定采用Tplink的廉价Mesh组网方案。这套Mesh组网在我的家庭网络场景有很大的优势，看我一一道来：   Mesh本身非常的健壮和灵活。能网线的地方采用有线回传，没有网线的也可以无线回传。对老破小没有预埋网线的家庭很友好。易展组网确实很方便，新节点一键就能加入。等换代了，老节点还能在信号覆盖不好的地方发挥余热，很适合大户型的房子。  双频合并，路由器会自动根据信号强度切换5G和2.4G。（告别Wu_2.4G和Wu_5G）  自动漫游，整个网络只有一个SSID，不用人工去切换信号，漫游衔接的速度也非常快。(告别Wu_1F和Wu_2F)  新设备都是1900M总带宽，原来是600M。（旧路由是磊科NW755）  APP展示的网络拓扑很清晰，各个子节点，接入设备一览无余。远程也能管理路由器，一个月内就发现了多个蹭网的兄弟。APP上还能管理NAT设置，更是自带DDNS。从原始社会过来的我感觉方便的不要不要的。 一共在PDD购入了1台WDR7661和3台WDR7650，一共460元。和Linsys、Netgear相比简直是无与伦比的性价比，使用体验也尚可。  这次顺便把光猫改了桥接，由主路由7661来拨号。一方面降低光猫的负载，提高通路能力，一方面为后面申请公网IP，提供外网服务做好准备。至此基本上家庭网络的骨干就全部升级完成了，网络设备、网线、接口都满足千兆要求，应该可以用一阵子了。在300M光纤入户的情况下，测试成绩如下：   二楼书房台式机有线：下载410Mbps，上传38Mbps。  一楼二楼wifi，300Mbps  三楼主卧wifi一层Mesh中继，260Mbps  三楼次卧wifi二层Mesh中继，140Mbps 家庭布网小贴士   家庭组网最好是在装修的时候预埋好足够的网线。我建议是书桌或者电视位两个出口，可以满足一个网络设备一台电视的需求。在高处也可以留一个出口，满足挂顶AP或者智能家居设备的接入。在大门或者屋外预留一个监控口和电源口。  现在推广的POE交互机+AC+AP面板的方案，没有用过。网上反馈似乎体验不是很好，但简洁美观应该是有优势的。  老房子没有预埋网线的，有Mesh、电力猫、无线中继等选择。体验上Mesh毫无疑问是最好的，价格也从原来的上千元降到了普通百元路由器的水平。有兴趣的同学不妨尝试一下。  软路由普通家庭不必纠结，应该是用不上的。但如果入户是200M以上的光纤，光猫改桥接，买个性能强力一些的主路由应该是能提升不少体验的。光猫的WIFI、DHCP都关掉，做好一个光猫的本职工作就好了。  最后还有一个神奇的方案，就是家里没有预埋网线，但是每个房间都铺设了同轴电缆的。也有同轴电缆转RJ45的适配器可以选择，据说速率最高能支持到200M呢。现在广电的数字电视服务，其实也是接了一个适配器+机顶盒的，改成适配器转RJ45+电视盒子，也没啥区别。","categories": ["tech"],
        "tags": ["network","router","wifi","tplink","speedtest"],
        "url": "http://wurui.cc/tech/home-network-upgrading-1/"
      },{
        "title": "家庭网络升级路2-NAS搭建",
        "excerpt":"每当手机空间不够用的时候，老爹都会删掉一些照片视频，颇为可惜。每次出游回家，从相机导出照片的时候，老爹又会说，买个大硬盘把这些照片都好好保存起来。周末在家打整好花园以后，老爹静态娱乐最大的爱好就是躺在罗汉床上看看老电影。综上，我认为家里还是有一些大容量存储，影音娱乐服务的需求的。  NAS有多种方案，比如准系统、完全自己搭建、矿渣、服务器、品牌机。本着省事儿，在一定预算范围内最优化配置和体验的指导思想下。我这里选择了性价比较高的品牌机QNAP 453Bmini，618价格是1900内。配置是Intel J3455 4核心，x86架构 64位系统，内存替换了一条8G DDR3。4个SATA 3.5寸硬盘位，两个千兆网口，带HDMI和USB3的接口。  除去主机的成本，硬盘才是整套NAS系统开销的大头。本着够用的原则，我选择了240G SSD + 4T 希捷酷狼组成一个Qiter分层存储池作为主空间。再用一块4T 希捷酷鹰静态挂载作为影音存储。目前使用了三个盘位，成本是1600元，总空间是8T左右。按目前的生产速度，主空间应该还能够再满足几年的照片和资料备份需求。重要资料同步备份到台式机中，再用一块老的移动硬盘定期冷备份。这样三块介质冷热备份，即便不组raid，重要资料的安全性应该还是能够得到保障的。盘位没有一次性去插满，主要是考虑单位存储价格肯定是持续走低的，硬盘以5-7年为周期逐步更换我认为是最优的。  额外还给系统配备了一台UPS，型号是山特的TG-BOX 850，不间断功率510W/850VA。支持NAS的UPS可以通过USB与NAS链接。在NAS上设置10分钟断电关机，可以保障突然断电对硬盘带来的损坏。不知这500块钱能否够值回它的票价。没有选择其他品牌（比如APC）的原因主要是山特这款设计的挺漂亮的，规规整整，插口也特别多，完全可以兼做一个大型插线板。  再讨论一下链路问题，453Bmini只有两个双千兆口，没有直接支持万兆。我虽然偶尔做点小视频，但也没有视频工作室那样的高速大容量传输需求。再考虑到万兆整体成本非常高（全套交换机、网卡），我的NAS也没有组raid和高速缓存，那不如就直接放弃万兆了。双网口链路聚合就是比千兆稍微强一点的选择，而只需要一台网管型交换机，一块双网口网卡就可以了，200块钱就能搞定。另外QNAP自己有USB3.0转电口的5Gbps模块，看着还是挺小巧美观的，有需要的也可以尝试这套方案，成本1200左右。  硬件目前就是这样了，总价格在4200左右。大容量私人网盘，珍贵的家庭照片再也别删了。PT下载，私人家庭影院服务，你值得拥有！ ","categories": ["tech"],
        "tags": ["network","router","QNAP","NAS","PT"],
        "url": "http://wurui.cc/tech/home-network-upgrading-2/"
      },{
        "title": "家庭网络升级路3-网络服务",
        "excerpt":"本文是家庭网络升级路的第三篇。前面两篇介绍了主干路由的升级情况，还购置了一台品牌NAS。那么除了单纯的上网冲浪，我们还能为家庭提供哪些便利的服务呢？  首先在NAS平台上，系统原生就提供了丰富的应用软件。   基于存储之上的，有Qsync等文件备份软件。可以将本地文件和NAS文件进行双向同步，即类似于百度和Google的同步盘。  使用SMB或者NFS远程挂载，可以把NAS文件夹挂载到本地，像本地空间一样使用，再也不会担心笔记本磁盘空间不够了。  在影音娱乐层面，有一大波相册、音乐、视频、影院套件。可以完全支撑HTPC的功能，也能支持智能电视或者电视盒子播放。  PT下载也是不能少的，除了自带的DownloadStation，还有好用的Transmission和Qbittorrents。上班时间下片，晚上回家直接播放，再大硬盘都能给你快速塞满。  虚拟化，因为是X86的版本，VirtualizationStation支持各类虚拟机。我就跑了一个Windows 10 LTSC版本，不方面直接在NAS部署的日常软件，都可以在虚拟机中得到满足。  容器化，依靠自带的ContainerStation，你便拥有了Docker的无限可能。GPU深度学习库，MongoDB/Redis数据库，私有Gitlab/Jenkinds服务，WordPress个人博客，甚至是Minecraft私服，都可以一键部署！小孩子才做选择，成年人当然是全部都要！  以上都是个人经验，我玩NAS的时间还很短，肯定不是最优方案，大家谨慎参考。 Tplink的路由器体系为我提供了基础的网管功能，这些能力在主流路由器上应该是通用的。值得一提的是Tplink的APP，我用着非常顺手。可以在任何地点远程管理家庭网络，网络拓扑图也很清晰。我在主路由上开启的服务有：   上网拨号、DHCP、设备管理、流量控制、未来的IPv6支持。  在应用管理中，Tplink提供免费的DDNS服务，只要你有公网IP，即可利用NAS提供公网服务了。我家里是300M电信宽带，打电话要到公网IP只花了一分钟，设置DDNS也只需要再花一分钟，非常的方便。  主路由作为对外网关，还有一个重要的服务是NAT网络地址转换。对内网服务做端口映射，和DDNS配合起来才能顺利提供便利的外网服务。 在主干网更新之后，我还购入了一台斐讯的N1盒子。刷好Openwrt系统接入主路由作为旁路由（单臂路由）。N1盒子是一款矿渣产品，便宜的时候只要八九十一台，性能却非常强悍，作为电视盒子可以解4K视频。刷了Openwrt以后就成为了一台非常强力的网络设备，功耗却不到3W。Openwrt提供了丰富的功能和插件，现在用到的有：   VPN科学上网，openwrt有好多款支持的插件。我目前使用的是Passwall，看评测性能和开销都是尚可的。  SmartDNS，启用以后可以为家庭网络提供私有DNS服务。能力是在域名查询时，返回你的网络环境下最低延时的IP，从而实现高速打开网页。同时支持第二DNS分组，配合Passwall，可以将内外网的DNS请求分流。避免国内服务查google DNS，国外服务查114导致的绕路情况。  Adblock广告屏蔽。原理很简单，就是对网页内嵌广告HTTP请求做了拦截。黑名单都是在网上同步获取的，使用起来很方便。启用以后在芒果TV看《向往的生活》再也不用等80秒的广告了。  以上服务在一起组合成了智能网关和智能DNS。由于我是旁路由接入的，希望使用这些功能的设备可以通过手动设置网关和DNS来接入。老人、访客等就使用主路由的默认功能就好了。 ","categories": ["tech"],
        "tags": ["network","router","QNAP","NAS","N1","SmartDNS","DDNS","VPN","Adblock","Container"],
        "url": "http://wurui.cc/tech/home-network-upgrading-3/"
      }]
